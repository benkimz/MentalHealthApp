@page "/history"
@page "/emotion-logs"
@page "/history/{category}"
@page "/emotion-logs/{category}"

@using MentalHealthApp.PWA.Data.Context.Interfaces
@using MentalHealthApp.PWA.Services.Singleton

@layout HistoryLayout
@inherits HistoryPageBase

<style>
    .icon-1x {
        font-size: 24px !important;
    }

    a {
        text-decoration: none;
    }

    .text-primary,
    a.text-primary:focus,
    a.text-primary:hover {
        color: #00ADBB !important;
    }

    .text-black,
    .text-hover-black:hover {
        color: #000 !important;
    }

    .font-weight-bold {
        font-weight: 700 !important;
    }
</style>

<div class="container" style="height: 100%!important;">
    <div class="row">
        <!-- Main content -->
        <div class="col-lg-12 p-4 mb-3 bg-light h-100">

            @if (EmotionLogHistory is not null)
            {
                foreach (var log in EmotionLogHistory)
                {
                    foreach (var item in log)
                    {
                        <MentalHealthApp.PWA.Components.EmotionLogComponent Prompt="@item.Value" Content="@item.Key?.Content"
                            CreatedDateTime="@TokenManager.GetTimeElapsed(item.Key?.CreatedDateTimeUTC ?? DateTime.UtcNow.AddYears(-1200))" />
                    }
                }
            }
        </div>
    </div>
</div>